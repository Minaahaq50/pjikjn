<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>ØªØ´ÙˆÙŠØ´ Ù…Ù„Ù JSON</title>
<style>
  body { font-family: Arial; background: #111; color: #fff; padding: 20px; }
  .box { background: #222; padding: 20px; border-radius: 10px; width: 430px; margin: auto; }
  input, button { width: 100%; padding: 12px; margin-top: 10px; border-radius: 6px; border: none; }
  button { background: #00aaff; color: white; font-size: 16px; cursor: pointer; }
</style>
</head>
<body>

<div class="box">
  <h2>ğŸ” ØªØ´ÙˆÙŠØ´ Ø¨ÙŠØ§Ù†Ø§Øª JSON (Ø¨Ø¯ÙˆÙ† ÙƒÙ„Ù…Ø© Ø³Ø±)</h2>

  <label>Ø§Ø®ØªØ± Ù…Ù„Ù JSON:</label>
  <input type="file" id="fileInput" accept=".json">

  <button onclick="obfuscateFile()">ØªØ´ÙˆÙŠØ´ Ø§Ù„Ù…Ù„Ù</button>

  <p id="status"></p>
</div>

<script>
function encodeText(str) {
    return btoa(unescape(encodeURIComponent(str)));  
}

function obfuscateFile() {
    const fileInput = document.getElementById("fileInput").files[0];

    if (!fileInput) {
        alert("Ø§Ø®ØªÙØ± Ù…Ù„Ù JSON Ø£ÙˆÙ„Ù‹Ø§");
        return;
    }

    const reader = new FileReader();
    reader.onload = function(event) {
        const jsonData = event.target.result;

        // ØªØ´ÙˆÙŠØ´ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Base64 + URI encode)
        const obf = encodeText(jsonData);

        // Ù…Ù„Ù Ø¬Ø¯ÙŠØ¯
        const blob = new Blob([obf], { type: "text/plain" });
        const link = document.createElement("a");
        link.href = URL.createObjectURL(blob);
        link.download = "obfuscated.txt";
        link.click();

        document.getElementById("status").innerHTML = "âœ”ï¸ ØªÙ… Ø§Ù„ØªØ´ÙˆÙŠØ´ ÙˆØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù";
    };

    reader.readAsText(fileInput);
}
</script>

</body>
</html>
